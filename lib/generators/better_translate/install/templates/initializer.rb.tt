# frozen_string_literal: true

# BetterTranslate Configuration
#
# IMPORTANT: I18n configuration is not yet available when initializers load.
# You must manually set source_language and target_languages to match your
# Rails I18n configuration in config/application.rb
#
# For more configuration options, see config/better_translate.yml

BetterTranslate.configure do |config|
  # Provider: :chatgpt, :gemini, or :anthropic
  config.provider = :chatgpt

  # API Keys (alternatively set via ENV variables)
  config.openai_key = ENV["OPENAI_API_KEY"]
  config.gemini_key = ENV["GEMINI_API_KEY"]
  config.anthropic_key = ENV["ANTHROPIC_API_KEY"]

  # Source and target languages
  #
  # IMPORTANT: These must be set manually to match your Rails I18n config
  # (I18n.default_locale and I18n.available_locales are not yet available)
  #
  # Example: If your config/application.rb has:
  #   config.i18n.default_locale = :it
  #   config.i18n.available_locales = [:it, :en, :fr, :ja, :ru]
  #
  # Then set:
  #   config.source_language = "it"  # matches default_locale
  #   config.target_languages = [...]  # matches available_locales (excluding source)

  config.source_language = "en" # TODO: Change to match your default_locale

  # Target languages (excluding source language)
  # TODO: Change to match your available_locales
  config.target_languages = [
    { short_name: "it", name: "Italian" },
    { short_name: "es", name: "Spanish" },
    { short_name: "fr", name: "French" }
  ]

  # File paths
  # Uses source_language for input file
  config.input_file = Rails.root.join("config", "locales", "#{config.source_language}.yml").to_s
  config.output_folder = Rails.root.join("config", "locales").to_s

  # Options
  config.verbose = true
  config.dry_run = false # Set to true for testing
  config.translation_mode = :override # or :incremental
  config.preserve_variables = true

  # Optional: Provider-specific settings
  # config.model = "gpt-5-nano" # ChatGPT model
  # config.temperature = 0.3
  # config.max_tokens = 2000
  # config.timeout = 30
  # config.max_retries = 3
  # config.rate_limit = 10

  # Optional: Exclusions
  # config.global_exclusions = ["excluded_key", "another_key"]
  # config.exclusions_per_language = {
  #   "it" => ["italy_specific_exclusion"]
  # }
end
